<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sstc.hmis.permission.dbaccess.dao.PermsTStaffMapper">
  <resultMap id="BaseResultMap" type="com.sstc.hmis.permission.dbaccess.data.PermsTStaff">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 21 17:02:23 CST 2017.
    -->
    <id column="cl_id" jdbcType="VARCHAR" property="clId" />
    <result column="cl_account" jdbcType="VARCHAR" property="clAccount" />
    <result column="cl_email" jdbcType="VARCHAR" property="clEmail" />
    <result column="cl_password" jdbcType="VARCHAR" property="clPassword" />
    <result column="cl_salt" jdbcType="VARCHAR" property="clSalt" />
    <result column="cl_cash_account" jdbcType="VARCHAR" property="clCashAccount" />
    <result column="cl_cash_pwd" jdbcType="VARCHAR" property="clCashPwd" />
    <result column="cl_status" jdbcType="SMALLINT" property="clStatus" />
    <result column="cl_blockup" jdbcType="SMALLINT" property="clBlockup" />
    <result column="cl_expired_date" jdbcType="TIMESTAMP" property="clExpiredDate" />
    <result column="cl_staff_no" jdbcType="VARCHAR" property="clStaffNo" />
    <result column="cl_default_hotel_id" jdbcType="VARCHAR" property="clDefaultHotelId" />
    <result column="cl_family_name" jdbcType="VARCHAR" property="clFamilyName" />
    <result column="cl_name" jdbcType="VARCHAR" property="clName" />
    <result column="cl_fmy_en" jdbcType="VARCHAR" property="clFmyEn" />
    <result column="cl_name_en" jdbcType="VARCHAR" property="clNameEn" />
    <result column="cl_sex" jdbcType="SMALLINT" property="clSex" />
    <result column="cl_birth_date" jdbcType="DATE" property="clBirthDate" />
    <result column="cl_contacts" jdbcType="VARCHAR" property="clContacts" />
    <result column="cl_mobile_phone" jdbcType="VARCHAR" property="clMobilePhone" />
    <result column="cl_type" jdbcType="SMALLINT" property="clType" />
    <result column="cl_degrees_id" jdbcType="VARCHAR" property="clDegreesId" />
    <result column="cl_country_id" jdbcType="VARCHAR" property="clCountryId" />
    <result column="cl_province_id" jdbcType="VARCHAR" property="clProvinceId" />
    <result column="cl_city_id" jdbcType="VARCHAR" property="clCityId" />
    <result column="cl_district" jdbcType="VARCHAR" property="clDistrict" />
    <result column="cl_address" jdbcType="VARCHAR" property="clAddress" />
    <result column="cl_card_type_id" jdbcType="VARCHAR" property="clCardTypeId" />
    <result column="cl_card_no" jdbcType="VARCHAR" property="clCardNo" />
    <result column="cl_emergency_1" jdbcType="VARCHAR" property="clEmergency1" />
    <result column="cl_emergency_no_1" jdbcType="VARCHAR" property="clEmergencyNo1" />
    <result column="cl_emergency_2" jdbcType="VARCHAR" property="clEmergency2" />
    <result column="cl_emergency_no_2" jdbcType="VARCHAR" property="clEmergencyNo2" />
    <result column="cl_description" jdbcType="VARCHAR" property="clDescription" />
    <result column="cl_remark" jdbcType="VARCHAR" property="clRemark" />
    <result column="cl_login_limit" jdbcType="SMALLINT" property="clLoginLimit" />
    <result column="cl_grp_id" jdbcType="VARCHAR" property="clGrpId" />
    <result column="cl_hotel_id" jdbcType="VARCHAR" property="clHotelId" />
    <result column="cl_create_time" jdbcType="TIMESTAMP" property="clCreateTime" />
    <result column="cl_create_by" jdbcType="VARCHAR" property="clCreateBy" />
    <result column="cl_modify_time" jdbcType="TIMESTAMP" property="clModifyTime" />
    <result column="cl_modify_by" jdbcType="VARCHAR" property="clModifyBy" />
    <result column="cl_degrees_code" jdbcType="VARCHAR" property="clDegreesCode" />
    <result column="cl_avatar" jdbcType="VARCHAR" property="clAvatar" />
    <result column="cl_country_code" jdbcType="VARCHAR" property="clCountryCode" />
    <result column="cl_province_code" jdbcType="VARCHAR" property="clProvinceCode" />
    <result column="cl_city_code" jdbcType="VARCHAR" property="clCityCode" />
    <result column="cl_card_type_code" jdbcType="VARCHAR" property="clCardTypeCode" />
    <result column="cl_default_dpt_id" jdbcType="VARCHAR" property="clDefaultDptId" />
    <result column="cl_default_post_id" jdbcType="VARCHAR" property="clDefaultPostId" />
    <result column="cl_org_info" jdbcType="VARCHAR" property="clOrgInfo" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 21 17:02:23 CST 2017.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 21 17:02:23 CST 2017.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 21 17:02:23 CST 2017.
    -->
    cl_id, cl_account, cl_email, cl_password, cl_salt, cl_cash_account, cl_cash_pwd, 
    cl_status, cl_blockup, cl_expired_date, cl_staff_no, cl_default_hotel_id, cl_family_name, 
    cl_name, cl_fmy_en, cl_name_en, cl_sex, cl_birth_date, cl_contacts, cl_mobile_phone, 
    cl_type, cl_degrees_id, cl_country_id, cl_province_id, cl_city_id, cl_district, cl_address, 
    cl_card_type_id, cl_card_no, cl_emergency_1, cl_emergency_no_1, cl_emergency_2, cl_emergency_no_2, 
    cl_description, cl_remark, cl_login_limit, cl_grp_id, cl_hotel_id, cl_create_time, 
    cl_create_by, cl_modify_time, cl_modify_by, cl_degrees_code, cl_avatar, cl_country_code, 
    cl_province_code, cl_city_code, cl_card_type_code, cl_default_dpt_id, cl_default_post_id
  </sql>
  <select id="selectByExample" parameterType="com.sstc.hmis.permission.dbaccess.data.PermsTStaffExample" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 21 17:02:23 CST 2017.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from perms.perms_t_staff
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 21 17:02:23 CST 2017.
    -->
    select 
    <include refid="Base_Column_List" />
    from perms.perms_t_staff
    where cl_id = #{clId,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 21 17:02:23 CST 2017.
    -->
    delete from perms.perms_t_staff
    where cl_id = #{clId,jdbcType=VARCHAR}
  </delete>
  <delete id="deleteByExample" parameterType="com.sstc.hmis.permission.dbaccess.data.PermsTStaffExample">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 21 17:02:23 CST 2017.
    -->
    delete from perms.perms_t_staff
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.sstc.hmis.permission.dbaccess.data.PermsTStaff">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 21 17:02:23 CST 2017.
    -->
    insert into perms.perms_t_staff (cl_id, cl_account, cl_email, 
      cl_password, cl_salt, cl_cash_account, 
      cl_cash_pwd, cl_status, cl_blockup, 
      cl_expired_date, cl_staff_no, cl_default_hotel_id, 
      cl_family_name, cl_name, cl_fmy_en, 
      cl_name_en, cl_sex, cl_birth_date, 
      cl_contacts, cl_mobile_phone, cl_type, 
      cl_degrees_id, cl_country_id, cl_province_id, 
      cl_city_id, cl_district, cl_address, 
      cl_card_type_id, cl_card_no, cl_emergency_1, 
      cl_emergency_no_1, cl_emergency_2, cl_emergency_no_2, 
      cl_description, cl_remark, cl_login_limit, 
      cl_grp_id, cl_hotel_id, cl_create_time, 
      cl_create_by, cl_modify_time, cl_modify_by, 
      cl_degrees_code, cl_avatar, cl_country_code, 
      cl_province_code, cl_city_code, cl_card_type_code, 
      cl_default_dpt_id, cl_default_post_id)
    values (#{clId,jdbcType=VARCHAR}, #{clAccount,jdbcType=VARCHAR}, #{clEmail,jdbcType=VARCHAR}, 
      #{clPassword,jdbcType=VARCHAR}, #{clSalt,jdbcType=VARCHAR}, #{clCashAccount,jdbcType=VARCHAR}, 
      #{clCashPwd,jdbcType=VARCHAR}, #{clStatus,jdbcType=SMALLINT}, #{clBlockup,jdbcType=SMALLINT}, 
      #{clExpiredDate,jdbcType=TIMESTAMP}, #{clStaffNo,jdbcType=VARCHAR}, #{clDefaultHotelId,jdbcType=VARCHAR}, 
      #{clFamilyName,jdbcType=VARCHAR}, #{clName,jdbcType=VARCHAR}, #{clFmyEn,jdbcType=VARCHAR}, 
      #{clNameEn,jdbcType=VARCHAR}, #{clSex,jdbcType=SMALLINT}, #{clBirthDate,jdbcType=DATE}, 
      #{clContacts,jdbcType=VARCHAR}, #{clMobilePhone,jdbcType=VARCHAR}, #{clType,jdbcType=SMALLINT}, 
      #{clDegreesId,jdbcType=VARCHAR}, #{clCountryId,jdbcType=VARCHAR}, #{clProvinceId,jdbcType=VARCHAR}, 
      #{clCityId,jdbcType=VARCHAR}, #{clDistrict,jdbcType=VARCHAR}, #{clAddress,jdbcType=VARCHAR}, 
      #{clCardTypeId,jdbcType=VARCHAR}, #{clCardNo,jdbcType=VARCHAR}, #{clEmergency1,jdbcType=VARCHAR}, 
      #{clEmergencyNo1,jdbcType=VARCHAR}, #{clEmergency2,jdbcType=VARCHAR}, #{clEmergencyNo2,jdbcType=VARCHAR}, 
      #{clDescription,jdbcType=VARCHAR}, #{clRemark,jdbcType=VARCHAR}, #{clLoginLimit,jdbcType=SMALLINT}, 
      #{clGrpId,jdbcType=VARCHAR}, #{clHotelId,jdbcType=VARCHAR}, #{clCreateTime,jdbcType=TIMESTAMP}, 
      #{clCreateBy,jdbcType=VARCHAR}, #{clModifyTime,jdbcType=TIMESTAMP}, #{clModifyBy,jdbcType=VARCHAR}, 
      #{clDegreesCode,jdbcType=VARCHAR}, #{clAvatar,jdbcType=VARCHAR}, #{clCountryCode,jdbcType=VARCHAR}, 
      #{clProvinceCode,jdbcType=VARCHAR}, #{clCityCode,jdbcType=VARCHAR}, #{clCardTypeCode,jdbcType=VARCHAR}, 
      #{clDefaultDptId,jdbcType=VARCHAR}, #{clDefaultPostId,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.sstc.hmis.permission.dbaccess.data.PermsTStaff">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 21 17:02:23 CST 2017.
    -->
    insert into perms.perms_t_staff
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="clId != null">
        cl_id,
      </if>
      <if test="clAccount != null">
        cl_account,
      </if>
      <if test="clEmail != null">
        cl_email,
      </if>
      <if test="clPassword != null">
        cl_password,
      </if>
      <if test="clSalt != null">
        cl_salt,
      </if>
      <if test="clCashAccount != null">
        cl_cash_account,
      </if>
      <if test="clCashPwd != null">
        cl_cash_pwd,
      </if>
      <if test="clStatus != null">
        cl_status,
      </if>
      <if test="clBlockup != null">
        cl_blockup,
      </if>
      <if test="clExpiredDate != null">
        cl_expired_date,
      </if>
      <if test="clStaffNo != null">
        cl_staff_no,
      </if>
      <if test="clDefaultHotelId != null">
        cl_default_hotel_id,
      </if>
      <if test="clFamilyName != null">
        cl_family_name,
      </if>
      <if test="clName != null">
        cl_name,
      </if>
      <if test="clFmyEn != null">
        cl_fmy_en,
      </if>
      <if test="clNameEn != null">
        cl_name_en,
      </if>
      <if test="clSex != null">
        cl_sex,
      </if>
      <if test="clBirthDate != null">
        cl_birth_date,
      </if>
      <if test="clContacts != null">
        cl_contacts,
      </if>
      <if test="clMobilePhone != null">
        cl_mobile_phone,
      </if>
      <if test="clType != null">
        cl_type,
      </if>
      <if test="clDegreesId != null">
        cl_degrees_id,
      </if>
      <if test="clCountryId != null">
        cl_country_id,
      </if>
      <if test="clProvinceId != null">
        cl_province_id,
      </if>
      <if test="clCityId != null">
        cl_city_id,
      </if>
      <if test="clDistrict != null">
        cl_district,
      </if>
      <if test="clAddress != null">
        cl_address,
      </if>
      <if test="clCardTypeId != null">
        cl_card_type_id,
      </if>
      <if test="clCardNo != null">
        cl_card_no,
      </if>
      <if test="clEmergency1 != null">
        cl_emergency_1,
      </if>
      <if test="clEmergencyNo1 != null">
        cl_emergency_no_1,
      </if>
      <if test="clEmergency2 != null">
        cl_emergency_2,
      </if>
      <if test="clEmergencyNo2 != null">
        cl_emergency_no_2,
      </if>
      <if test="clDescription != null">
        cl_description,
      </if>
      <if test="clRemark != null">
        cl_remark,
      </if>
      <if test="clLoginLimit != null">
        cl_login_limit,
      </if>
      <if test="clGrpId != null">
        cl_grp_id,
      </if>
      <if test="clHotelId != null">
        cl_hotel_id,
      </if>
      <if test="clCreateTime != null">
        cl_create_time,
      </if>
      <if test="clCreateBy != null">
        cl_create_by,
      </if>
      <if test="clModifyTime != null">
        cl_modify_time,
      </if>
      <if test="clModifyBy != null">
        cl_modify_by,
      </if>
      <if test="clDegreesCode != null">
        cl_degrees_code,
      </if>
      <if test="clAvatar != null">
        cl_avatar,
      </if>
      <if test="clCountryCode != null">
        cl_country_code,
      </if>
      <if test="clProvinceCode != null">
        cl_province_code,
      </if>
      <if test="clCityCode != null">
        cl_city_code,
      </if>
      <if test="clCardTypeCode != null">
        cl_card_type_code,
      </if>
      <if test="clDefaultDptId != null">
        cl_default_dpt_id,
      </if>
      <if test="clDefaultPostId != null">
        cl_default_post_id,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="clId != null">
        #{clId,jdbcType=VARCHAR},
      </if>
      <if test="clAccount != null">
        #{clAccount,jdbcType=VARCHAR},
      </if>
      <if test="clEmail != null">
        #{clEmail,jdbcType=VARCHAR},
      </if>
      <if test="clPassword != null">
        #{clPassword,jdbcType=VARCHAR},
      </if>
      <if test="clSalt != null">
        #{clSalt,jdbcType=VARCHAR},
      </if>
      <if test="clCashAccount != null">
        #{clCashAccount,jdbcType=VARCHAR},
      </if>
      <if test="clCashPwd != null">
        #{clCashPwd,jdbcType=VARCHAR},
      </if>
      <if test="clStatus != null">
        #{clStatus,jdbcType=SMALLINT},
      </if>
      <if test="clBlockup != null">
        #{clBlockup,jdbcType=SMALLINT},
      </if>
      <if test="clExpiredDate != null">
        #{clExpiredDate,jdbcType=TIMESTAMP},
      </if>
      <if test="clStaffNo != null">
        #{clStaffNo,jdbcType=VARCHAR},
      </if>
      <if test="clDefaultHotelId != null">
        #{clDefaultHotelId,jdbcType=VARCHAR},
      </if>
      <if test="clFamilyName != null">
        #{clFamilyName,jdbcType=VARCHAR},
      </if>
      <if test="clName != null">
        #{clName,jdbcType=VARCHAR},
      </if>
      <if test="clFmyEn != null">
        #{clFmyEn,jdbcType=VARCHAR},
      </if>
      <if test="clNameEn != null">
        #{clNameEn,jdbcType=VARCHAR},
      </if>
      <if test="clSex != null">
        #{clSex,jdbcType=SMALLINT},
      </if>
      <if test="clBirthDate != null">
        #{clBirthDate,jdbcType=DATE},
      </if>
      <if test="clContacts != null">
        #{clContacts,jdbcType=VARCHAR},
      </if>
      <if test="clMobilePhone != null">
        #{clMobilePhone,jdbcType=VARCHAR},
      </if>
      <if test="clType != null">
        #{clType,jdbcType=SMALLINT},
      </if>
      <if test="clDegreesId != null">
        #{clDegreesId,jdbcType=VARCHAR},
      </if>
      <if test="clCountryId != null">
        #{clCountryId,jdbcType=VARCHAR},
      </if>
      <if test="clProvinceId != null">
        #{clProvinceId,jdbcType=VARCHAR},
      </if>
      <if test="clCityId != null">
        #{clCityId,jdbcType=VARCHAR},
      </if>
      <if test="clDistrict != null">
        #{clDistrict,jdbcType=VARCHAR},
      </if>
      <if test="clAddress != null">
        #{clAddress,jdbcType=VARCHAR},
      </if>
      <if test="clCardTypeId != null">
        #{clCardTypeId,jdbcType=VARCHAR},
      </if>
      <if test="clCardNo != null">
        #{clCardNo,jdbcType=VARCHAR},
      </if>
      <if test="clEmergency1 != null">
        #{clEmergency1,jdbcType=VARCHAR},
      </if>
      <if test="clEmergencyNo1 != null">
        #{clEmergencyNo1,jdbcType=VARCHAR},
      </if>
      <if test="clEmergency2 != null">
        #{clEmergency2,jdbcType=VARCHAR},
      </if>
      <if test="clEmergencyNo2 != null">
        #{clEmergencyNo2,jdbcType=VARCHAR},
      </if>
      <if test="clDescription != null">
        #{clDescription,jdbcType=VARCHAR},
      </if>
      <if test="clRemark != null">
        #{clRemark,jdbcType=VARCHAR},
      </if>
      <if test="clLoginLimit != null">
        #{clLoginLimit,jdbcType=SMALLINT},
      </if>
      <if test="clGrpId != null">
        #{clGrpId,jdbcType=VARCHAR},
      </if>
      <if test="clHotelId != null">
        #{clHotelId,jdbcType=VARCHAR},
      </if>
      <if test="clCreateTime != null">
        #{clCreateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="clCreateBy != null">
        #{clCreateBy,jdbcType=VARCHAR},
      </if>
      <if test="clModifyTime != null">
        #{clModifyTime,jdbcType=TIMESTAMP},
      </if>
      <if test="clModifyBy != null">
        #{clModifyBy,jdbcType=VARCHAR},
      </if>
      <if test="clDegreesCode != null">
        #{clDegreesCode,jdbcType=VARCHAR},
      </if>
      <if test="clAvatar != null">
        #{clAvatar,jdbcType=VARCHAR},
      </if>
      <if test="clCountryCode != null">
        #{clCountryCode,jdbcType=VARCHAR},
      </if>
      <if test="clProvinceCode != null">
        #{clProvinceCode,jdbcType=VARCHAR},
      </if>
      <if test="clCityCode != null">
        #{clCityCode,jdbcType=VARCHAR},
      </if>
      <if test="clCardTypeCode != null">
        #{clCardTypeCode,jdbcType=VARCHAR},
      </if>
      <if test="clDefaultDptId != null">
        #{clDefaultDptId,jdbcType=VARCHAR},
      </if>
      <if test="clDefaultPostId != null">
        #{clDefaultPostId,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.sstc.hmis.permission.dbaccess.data.PermsTStaffExample" resultType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 21 17:02:23 CST 2017.
    -->
    select count(*) from perms.perms_t_staff
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 21 17:02:23 CST 2017.
    -->
    update perms.perms_t_staff
    <set>
      <if test="record.clId != null">
        cl_id = #{record.clId,jdbcType=VARCHAR},
      </if>
      <if test="record.clAccount != null">
        cl_account = #{record.clAccount,jdbcType=VARCHAR},
      </if>
      <if test="record.clEmail != null">
        cl_email = #{record.clEmail,jdbcType=VARCHAR},
      </if>
      <if test="record.clPassword != null">
        cl_password = #{record.clPassword,jdbcType=VARCHAR},
      </if>
      <if test="record.clSalt != null">
        cl_salt = #{record.clSalt,jdbcType=VARCHAR},
      </if>
      <if test="record.clCashAccount != null">
        cl_cash_account = #{record.clCashAccount,jdbcType=VARCHAR},
      </if>
      <if test="record.clCashPwd != null">
        cl_cash_pwd = #{record.clCashPwd,jdbcType=VARCHAR},
      </if>
      <if test="record.clStatus != null">
        cl_status = #{record.clStatus,jdbcType=SMALLINT},
      </if>
      <if test="record.clBlockup != null">
        cl_blockup = #{record.clBlockup,jdbcType=SMALLINT},
      </if>
      <if test="record.clExpiredDate != null">
        cl_expired_date = #{record.clExpiredDate,jdbcType=TIMESTAMP},
      </if>
      <if test="record.clStaffNo != null">
        cl_staff_no = #{record.clStaffNo,jdbcType=VARCHAR},
      </if>
      <if test="record.clDefaultHotelId != null">
        cl_default_hotel_id = #{record.clDefaultHotelId,jdbcType=VARCHAR},
      </if>
      <if test="record.clFamilyName != null">
        cl_family_name = #{record.clFamilyName,jdbcType=VARCHAR},
      </if>
      <if test="record.clName != null">
        cl_name = #{record.clName,jdbcType=VARCHAR},
      </if>
      <if test="record.clFmyEn != null">
        cl_fmy_en = #{record.clFmyEn,jdbcType=VARCHAR},
      </if>
      <if test="record.clNameEn != null">
        cl_name_en = #{record.clNameEn,jdbcType=VARCHAR},
      </if>
      <if test="record.clSex != null">
        cl_sex = #{record.clSex,jdbcType=SMALLINT},
      </if>
      <if test="record.clBirthDate != null">
        cl_birth_date = #{record.clBirthDate,jdbcType=DATE},
      </if>
      <if test="record.clContacts != null">
        cl_contacts = #{record.clContacts,jdbcType=VARCHAR},
      </if>
      <if test="record.clMobilePhone != null">
        cl_mobile_phone = #{record.clMobilePhone,jdbcType=VARCHAR},
      </if>
      <if test="record.clType != null">
        cl_type = #{record.clType,jdbcType=SMALLINT},
      </if>
      <if test="record.clDegreesId != null">
        cl_degrees_id = #{record.clDegreesId,jdbcType=VARCHAR},
      </if>
      <if test="record.clCountryId != null">
        cl_country_id = #{record.clCountryId,jdbcType=VARCHAR},
      </if>
      <if test="record.clProvinceId != null">
        cl_province_id = #{record.clProvinceId,jdbcType=VARCHAR},
      </if>
      <if test="record.clCityId != null">
        cl_city_id = #{record.clCityId,jdbcType=VARCHAR},
      </if>
      <if test="record.clDistrict != null">
        cl_district = #{record.clDistrict,jdbcType=VARCHAR},
      </if>
      <if test="record.clAddress != null">
        cl_address = #{record.clAddress,jdbcType=VARCHAR},
      </if>
      <if test="record.clCardTypeId != null">
        cl_card_type_id = #{record.clCardTypeId,jdbcType=VARCHAR},
      </if>
      <if test="record.clCardNo != null">
        cl_card_no = #{record.clCardNo,jdbcType=VARCHAR},
      </if>
      <if test="record.clEmergency1 != null">
        cl_emergency_1 = #{record.clEmergency1,jdbcType=VARCHAR},
      </if>
      <if test="record.clEmergencyNo1 != null">
        cl_emergency_no_1 = #{record.clEmergencyNo1,jdbcType=VARCHAR},
      </if>
      <if test="record.clEmergency2 != null">
        cl_emergency_2 = #{record.clEmergency2,jdbcType=VARCHAR},
      </if>
      <if test="record.clEmergencyNo2 != null">
        cl_emergency_no_2 = #{record.clEmergencyNo2,jdbcType=VARCHAR},
      </if>
      <if test="record.clDescription != null">
        cl_description = #{record.clDescription,jdbcType=VARCHAR},
      </if>
      <if test="record.clRemark != null">
        cl_remark = #{record.clRemark,jdbcType=VARCHAR},
      </if>
      <if test="record.clLoginLimit != null">
        cl_login_limit = #{record.clLoginLimit,jdbcType=SMALLINT},
      </if>
      <if test="record.clGrpId != null">
        cl_grp_id = #{record.clGrpId,jdbcType=VARCHAR},
      </if>
      <if test="record.clHotelId != null">
        cl_hotel_id = #{record.clHotelId,jdbcType=VARCHAR},
      </if>
      <if test="record.clCreateTime != null">
        cl_create_time = #{record.clCreateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.clCreateBy != null">
        cl_create_by = #{record.clCreateBy,jdbcType=VARCHAR},
      </if>
      <if test="record.clModifyTime != null">
        cl_modify_time = #{record.clModifyTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.clModifyBy != null">
        cl_modify_by = #{record.clModifyBy,jdbcType=VARCHAR},
      </if>
      <if test="record.clDegreesCode != null">
        cl_degrees_code = #{record.clDegreesCode,jdbcType=VARCHAR},
      </if>
      <if test="record.clAvatar != null">
        cl_avatar = #{record.clAvatar,jdbcType=VARCHAR},
      </if>
      <if test="record.clCountryCode != null">
        cl_country_code = #{record.clCountryCode,jdbcType=VARCHAR},
      </if>
      <if test="record.clProvinceCode != null">
        cl_province_code = #{record.clProvinceCode,jdbcType=VARCHAR},
      </if>
      <if test="record.clCityCode != null">
        cl_city_code = #{record.clCityCode,jdbcType=VARCHAR},
      </if>
      <if test="record.clCardTypeCode != null">
        cl_card_type_code = #{record.clCardTypeCode,jdbcType=VARCHAR},
      </if>
      <if test="record.clDefaultDptId != null">
        cl_default_dpt_id = #{record.clDefaultDptId,jdbcType=VARCHAR},
      </if>
      <if test="record.clDefaultPostId != null">
        cl_default_post_id = #{record.clDefaultPostId,jdbcType=VARCHAR},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 21 17:02:23 CST 2017.
    -->
    update perms.perms_t_staff
    set cl_id = #{record.clId,jdbcType=VARCHAR},
      cl_account = #{record.clAccount,jdbcType=VARCHAR},
      cl_email = #{record.clEmail,jdbcType=VARCHAR},
      cl_password = #{record.clPassword,jdbcType=VARCHAR},
      cl_salt = #{record.clSalt,jdbcType=VARCHAR},
      cl_cash_account = #{record.clCashAccount,jdbcType=VARCHAR},
      cl_cash_pwd = #{record.clCashPwd,jdbcType=VARCHAR},
      cl_status = #{record.clStatus,jdbcType=SMALLINT},
      cl_blockup = #{record.clBlockup,jdbcType=SMALLINT},
      cl_expired_date = #{record.clExpiredDate,jdbcType=TIMESTAMP},
      cl_staff_no = #{record.clStaffNo,jdbcType=VARCHAR},
      cl_default_hotel_id = #{record.clDefaultHotelId,jdbcType=VARCHAR},
      cl_family_name = #{record.clFamilyName,jdbcType=VARCHAR},
      cl_name = #{record.clName,jdbcType=VARCHAR},
      cl_fmy_en = #{record.clFmyEn,jdbcType=VARCHAR},
      cl_name_en = #{record.clNameEn,jdbcType=VARCHAR},
      cl_sex = #{record.clSex,jdbcType=SMALLINT},
      cl_birth_date = #{record.clBirthDate,jdbcType=DATE},
      cl_contacts = #{record.clContacts,jdbcType=VARCHAR},
      cl_mobile_phone = #{record.clMobilePhone,jdbcType=VARCHAR},
      cl_type = #{record.clType,jdbcType=SMALLINT},
      cl_degrees_id = #{record.clDegreesId,jdbcType=VARCHAR},
      cl_country_id = #{record.clCountryId,jdbcType=VARCHAR},
      cl_province_id = #{record.clProvinceId,jdbcType=VARCHAR},
      cl_city_id = #{record.clCityId,jdbcType=VARCHAR},
      cl_district = #{record.clDistrict,jdbcType=VARCHAR},
      cl_address = #{record.clAddress,jdbcType=VARCHAR},
      cl_card_type_id = #{record.clCardTypeId,jdbcType=VARCHAR},
      cl_card_no = #{record.clCardNo,jdbcType=VARCHAR},
      cl_emergency_1 = #{record.clEmergency1,jdbcType=VARCHAR},
      cl_emergency_no_1 = #{record.clEmergencyNo1,jdbcType=VARCHAR},
      cl_emergency_2 = #{record.clEmergency2,jdbcType=VARCHAR},
      cl_emergency_no_2 = #{record.clEmergencyNo2,jdbcType=VARCHAR},
      cl_description = #{record.clDescription,jdbcType=VARCHAR},
      cl_remark = #{record.clRemark,jdbcType=VARCHAR},
      cl_login_limit = #{record.clLoginLimit,jdbcType=SMALLINT},
      cl_grp_id = #{record.clGrpId,jdbcType=VARCHAR},
      cl_hotel_id = #{record.clHotelId,jdbcType=VARCHAR},
      cl_create_time = #{record.clCreateTime,jdbcType=TIMESTAMP},
      cl_create_by = #{record.clCreateBy,jdbcType=VARCHAR},
      cl_modify_time = #{record.clModifyTime,jdbcType=TIMESTAMP},
      cl_modify_by = #{record.clModifyBy,jdbcType=VARCHAR},
      cl_degrees_code = #{record.clDegreesCode,jdbcType=VARCHAR},
      cl_avatar = #{record.clAvatar,jdbcType=VARCHAR},
      cl_country_code = #{record.clCountryCode,jdbcType=VARCHAR},
      cl_province_code = #{record.clProvinceCode,jdbcType=VARCHAR},
      cl_city_code = #{record.clCityCode,jdbcType=VARCHAR},
      cl_card_type_code = #{record.clCardTypeCode,jdbcType=VARCHAR},
      cl_default_dpt_id = #{record.clDefaultDptId,jdbcType=VARCHAR},
      cl_default_post_id = #{record.clDefaultPostId,jdbcType=VARCHAR}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.sstc.hmis.permission.dbaccess.data.PermsTStaff">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 21 17:02:23 CST 2017.
    -->
    update perms.perms_t_staff
    <set>
      <if test="clAccount != null">
        cl_account = #{clAccount,jdbcType=VARCHAR},
      </if>
      <if test="clEmail != null">
        cl_email = #{clEmail,jdbcType=VARCHAR},
      </if>
      <if test="clPassword != null">
        cl_password = #{clPassword,jdbcType=VARCHAR},
      </if>
      <if test="clSalt != null">
        cl_salt = #{clSalt,jdbcType=VARCHAR},
      </if>
      <if test="clCashAccount != null">
        cl_cash_account = #{clCashAccount,jdbcType=VARCHAR},
      </if>
      <if test="clCashPwd != null">
        cl_cash_pwd = #{clCashPwd,jdbcType=VARCHAR},
      </if>
      <if test="clStatus != null">
        cl_status = #{clStatus,jdbcType=SMALLINT},
      </if>
      <if test="clBlockup != null">
        cl_blockup = #{clBlockup,jdbcType=SMALLINT},
      </if>
      <if test="clExpiredDate != null">
        cl_expired_date = #{clExpiredDate,jdbcType=TIMESTAMP},
      </if>
      <if test="clStaffNo != null">
        cl_staff_no = #{clStaffNo,jdbcType=VARCHAR},
      </if>
      <if test="clDefaultHotelId != null">
        cl_default_hotel_id = #{clDefaultHotelId,jdbcType=VARCHAR},
      </if>
      <if test="clFamilyName != null">
        cl_family_name = #{clFamilyName,jdbcType=VARCHAR},
      </if>
      <if test="clName != null">
        cl_name = #{clName,jdbcType=VARCHAR},
      </if>
      <if test="clFmyEn != null">
        cl_fmy_en = #{clFmyEn,jdbcType=VARCHAR},
      </if>
      <if test="clNameEn != null">
        cl_name_en = #{clNameEn,jdbcType=VARCHAR},
      </if>
      <if test="clSex != null">
        cl_sex = #{clSex,jdbcType=SMALLINT},
      </if>
      <if test="clBirthDate != null">
        cl_birth_date = #{clBirthDate,jdbcType=DATE},
      </if>
      <if test="clContacts != null">
        cl_contacts = #{clContacts,jdbcType=VARCHAR},
      </if>
      <if test="clMobilePhone != null">
        cl_mobile_phone = #{clMobilePhone,jdbcType=VARCHAR},
      </if>
      <if test="clType != null">
        cl_type = #{clType,jdbcType=SMALLINT},
      </if>
      <if test="clDegreesId != null">
        cl_degrees_id = #{clDegreesId,jdbcType=VARCHAR},
      </if>
      <if test="clCountryId != null">
        cl_country_id = #{clCountryId,jdbcType=VARCHAR},
      </if>
      <if test="clProvinceId != null">
        cl_province_id = #{clProvinceId,jdbcType=VARCHAR},
      </if>
      <if test="clCityId != null">
        cl_city_id = #{clCityId,jdbcType=VARCHAR},
      </if>
      <if test="clDistrict != null">
        cl_district = #{clDistrict,jdbcType=VARCHAR},
      </if>
      <if test="clAddress != null">
        cl_address = #{clAddress,jdbcType=VARCHAR},
      </if>
      <if test="clCardTypeId != null">
        cl_card_type_id = #{clCardTypeId,jdbcType=VARCHAR},
      </if>
      <if test="clCardNo != null">
        cl_card_no = #{clCardNo,jdbcType=VARCHAR},
      </if>
      <if test="clEmergency1 != null">
        cl_emergency_1 = #{clEmergency1,jdbcType=VARCHAR},
      </if>
      <if test="clEmergencyNo1 != null">
        cl_emergency_no_1 = #{clEmergencyNo1,jdbcType=VARCHAR},
      </if>
      <if test="clEmergency2 != null">
        cl_emergency_2 = #{clEmergency2,jdbcType=VARCHAR},
      </if>
      <if test="clEmergencyNo2 != null">
        cl_emergency_no_2 = #{clEmergencyNo2,jdbcType=VARCHAR},
      </if>
      <if test="clDescription != null">
        cl_description = #{clDescription,jdbcType=VARCHAR},
      </if>
      <if test="clRemark != null">
        cl_remark = #{clRemark,jdbcType=VARCHAR},
      </if>
      <if test="clLoginLimit != null">
        cl_login_limit = #{clLoginLimit,jdbcType=SMALLINT},
      </if>
      <if test="clGrpId != null">
        cl_grp_id = #{clGrpId,jdbcType=VARCHAR},
      </if>
      <if test="clHotelId != null">
        cl_hotel_id = #{clHotelId,jdbcType=VARCHAR},
      </if>
      <if test="clCreateTime != null">
        cl_create_time = #{clCreateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="clCreateBy != null">
        cl_create_by = #{clCreateBy,jdbcType=VARCHAR},
      </if>
      <if test="clModifyTime != null">
        cl_modify_time = #{clModifyTime,jdbcType=TIMESTAMP},
      </if>
      <if test="clModifyBy != null">
        cl_modify_by = #{clModifyBy,jdbcType=VARCHAR},
      </if>
      <if test="clDegreesCode != null">
        cl_degrees_code = #{clDegreesCode,jdbcType=VARCHAR},
      </if>
      <if test="clAvatar != null">
        cl_avatar = #{clAvatar,jdbcType=VARCHAR},
      </if>
      <if test="clCountryCode != null">
        cl_country_code = #{clCountryCode,jdbcType=VARCHAR},
      </if>
      <if test="clProvinceCode != null">
        cl_province_code = #{clProvinceCode,jdbcType=VARCHAR},
      </if>
      <if test="clCityCode != null">
        cl_city_code = #{clCityCode,jdbcType=VARCHAR},
      </if>
      <if test="clCardTypeCode != null">
        cl_card_type_code = #{clCardTypeCode,jdbcType=VARCHAR},
      </if>
      <if test="clDefaultDptId != null">
        cl_default_dpt_id = #{clDefaultDptId,jdbcType=VARCHAR},
      </if>
      <if test="clDefaultPostId != null">
        cl_default_post_id = #{clDefaultPostId,jdbcType=VARCHAR},
      </if>
    </set>
    where cl_id = #{clId,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.sstc.hmis.permission.dbaccess.data.PermsTStaff">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 21 17:02:23 CST 2017.
    -->
    update perms.perms_t_staff
    set cl_account = #{clAccount,jdbcType=VARCHAR},
      cl_email = #{clEmail,jdbcType=VARCHAR},
      cl_password = #{clPassword,jdbcType=VARCHAR},
      cl_salt = #{clSalt,jdbcType=VARCHAR},
      cl_cash_account = #{clCashAccount,jdbcType=VARCHAR},
      cl_cash_pwd = #{clCashPwd,jdbcType=VARCHAR},
      cl_status = #{clStatus,jdbcType=SMALLINT},
      cl_blockup = #{clBlockup,jdbcType=SMALLINT},
      cl_expired_date = #{clExpiredDate,jdbcType=TIMESTAMP},
      cl_staff_no = #{clStaffNo,jdbcType=VARCHAR},
      cl_default_hotel_id = #{clDefaultHotelId,jdbcType=VARCHAR},
      cl_family_name = #{clFamilyName,jdbcType=VARCHAR},
      cl_name = #{clName,jdbcType=VARCHAR},
      cl_fmy_en = #{clFmyEn,jdbcType=VARCHAR},
      cl_name_en = #{clNameEn,jdbcType=VARCHAR},
      cl_sex = #{clSex,jdbcType=SMALLINT},
      cl_birth_date = #{clBirthDate,jdbcType=DATE},
      cl_contacts = #{clContacts,jdbcType=VARCHAR},
      cl_mobile_phone = #{clMobilePhone,jdbcType=VARCHAR},
      cl_type = #{clType,jdbcType=SMALLINT},
      cl_degrees_id = #{clDegreesId,jdbcType=VARCHAR},
      cl_country_id = #{clCountryId,jdbcType=VARCHAR},
      cl_province_id = #{clProvinceId,jdbcType=VARCHAR},
      cl_city_id = #{clCityId,jdbcType=VARCHAR},
      cl_district = #{clDistrict,jdbcType=VARCHAR},
      cl_address = #{clAddress,jdbcType=VARCHAR},
      cl_card_type_id = #{clCardTypeId,jdbcType=VARCHAR},
      cl_card_no = #{clCardNo,jdbcType=VARCHAR},
      cl_emergency_1 = #{clEmergency1,jdbcType=VARCHAR},
      cl_emergency_no_1 = #{clEmergencyNo1,jdbcType=VARCHAR},
      cl_emergency_2 = #{clEmergency2,jdbcType=VARCHAR},
      cl_emergency_no_2 = #{clEmergencyNo2,jdbcType=VARCHAR},
      cl_description = #{clDescription,jdbcType=VARCHAR},
      cl_remark = #{clRemark,jdbcType=VARCHAR},
      cl_login_limit = #{clLoginLimit,jdbcType=SMALLINT},
      cl_grp_id = #{clGrpId,jdbcType=VARCHAR},
      cl_hotel_id = #{clHotelId,jdbcType=VARCHAR},
      cl_create_time = #{clCreateTime,jdbcType=TIMESTAMP},
      cl_create_by = #{clCreateBy,jdbcType=VARCHAR},
      cl_modify_time = #{clModifyTime,jdbcType=TIMESTAMP},
      cl_modify_by = #{clModifyBy,jdbcType=VARCHAR},
      cl_degrees_code = #{clDegreesCode,jdbcType=VARCHAR},
      cl_avatar = #{clAvatar,jdbcType=VARCHAR},
      cl_country_code = #{clCountryCode,jdbcType=VARCHAR},
      cl_province_code = #{clProvinceCode,jdbcType=VARCHAR},
      cl_city_code = #{clCityCode,jdbcType=VARCHAR},
      cl_card_type_code = #{clCardTypeCode,jdbcType=VARCHAR},
      cl_default_dpt_id = #{clDefaultDptId,jdbcType=VARCHAR},
      cl_default_post_id = #{clDefaultPostId,jdbcType=VARCHAR}
    where cl_id = #{clId,jdbcType=VARCHAR}
  </update>
 
 <select id="selStaffInfos" resultMap="BaseResultMap"> 
    SELECT
	*
	FROM
		perms.perms_t_staff t1
	WHERE
		t1.CL_STATUS != ${@com.sstc.hmis.model.constants.Constants@STATUS_DEL}
		<if test="clStatus != null">
			And t1.CL_STATUS = #{clStatus}
		</if>
		AND t1.CL_BLOCKUP = ${@com.sstc.hmis.model.constants.Constants@BLOCKUP_NO}
		<if test="clName != null and clName != ''">
		AND (
			CONCAT(t1.CL_FAMILY_NAME,t1.CL_NAME) ILIKE '%${clName}%'
			OR CONCAT(t1.CL_FMY_EN,t1.CL_NAME_EN)  ILIKE '%${clName}%'
			OR t1.CL_CONTACTS ILIKE '%${clName}%'
			OR t1.CL_STAFF_NO ILIKE '%${clName}%'
		)
		</if>
		AND t1.cl_id IN (
			SELECT
				t2.CL_STAFF_ID
			FROM
				perms.PERMS_T_STAFF_HOTEL t2
				<if test="clTeamId != null and clTeamId != ''">
					,perms.PERMS_T_STAFF_TEAM t3				
				</if>
			WHERE
				1 = 1
				<if test="clTeamId != null and clTeamId != ''">
					And t3.CL_TEAM_ID = #{clTeamId}
					AND t3.CL_STAFF_ID = t2.CL_STAFF_ID
				</if>
				<if test="clHotelId != null and clHotelId != ''">
					And t2.CL_WORK_HOTEL_ID = #{clHotelId}
				</if>
				<if test="clHotelIdTab != null and clHotelIdTab != ''">
					And t2.CL_WORK_HOTEL_ID = #{clHotelIdTab}
				</if>
				<if test="clDpartID != null and clDpartID != ''">
					And t2.CL_DPT_ID IN (
						WITH RECURSIVE cre AS (
							SELECT
								t5.cl_id
							FROM
								perms.perms_t_department t5
							WHERE
								t5.cl_id = #{clDpartID}
								AND t5.cl_id = t1.cl_default_dpt_id
							UNION ALL
								SELECT
									t4.cl_id
								FROM
									perms.perms_t_department t4
								INNER JOIN cre t5 ON t5.cl_id = t4.cl_pid
						) SELECT
							*
						FROM
							cre
					)
				</if>
				<if test="clDpartIDTab != null and clDpartIDTab != ''">
					And t2.CL_DPT_ID IN (
						WITH RECURSIVE cre AS (
							SELECT
								t5.cl_id
							FROM
								perms.perms_t_department t5
							WHERE
								t5.cl_id = #{clDpartIDTab}
								AND t5.cl_id = t1.cl_default_dpt_id
							UNION ALL
								SELECT
									t4.cl_id
								FROM
									perms.perms_t_department t4
								INNER JOIN cre t5 ON t5.cl_id = t4.cl_pid
						) SELECT
							*
						FROM
							cre
					)
				</if>
				<if test="clPostId != null and clPostId != ''">
					And t2.CL_POST_ID = #{clPostId}
					AND t2.CL_POST_ID = t1.cl_default_post_id
				</if>
				<if test="clPostIdTab != null and clPostIdTab != ''">
					And t2.CL_POST_ID = #{clPostIdTab}
					AND t2.CL_POST_ID = t1.cl_default_post_id
				</if>
				<if test="clPostId2 != null and clPostId2 != ''">
					And t2.CL_POST_ID = #{clPostId2}
					AND t2.CL_POST_ID = t1.cl_default_post_id
				</if>
		)
	ORDER BY t1.CL_CREATE_TIME DESC
  </select>
  
  <select id="selStaffOrgInfos" resultType="String" parameterType="com.sstc.hmis.permission.dbaccess.data.PermsTStaff"> 
		SELECT t1.path_name FROM perms.v_staff_org t1 
		<where>
			<if test="clId != null">
				t1.cl_staff_id = #{clId} 
			</if>
			<if test="clDefaultDptId != null">
				and t1.dpt_id = #{clDefaultDptId}
			</if>
			<if test="clDefaultPostId != null">
				and t1.post_id = #{clDefaultPostId}
			</if>
			<if test="clDefaultHotelId != null">
				and t1.cl_work_hotel_id = #{clDefaultHotelId}
			</if>
		</where>
  </select>
  
  <select id="listStaffWithOrgInfo" resultMap="BaseResultMap" parameterType="com.sstc.hmis.permission.dbaccess.data.PermsTStaff">
  	SELECT t2.* ,t3.path_name as cl_org_info FROM perms.perms_t_staff_hotel t1 INNER JOIN perms.perms_t_staff t2 ON t1.cl_staff_id = t2.cl_id 
	LEFT JOIN perms.v_staff_org t3 on t1.cl_work_hotel_id = t3.cl_work_hotel_id AND t1.cl_staff_id = t3.cl_staff_id
	WHERE t1.CL_STATUS = ${@com.sstc.hmis.model.constants.Constants@STATUS_NORMAL}  
	AND t2.CL_STATUS = ${@com.sstc.hmis.model.constants.Constants@STATUS_NORMAL} 
	AND t1.CL_WORK_HOTEL_ID =  #{clDefaultHotelId}
	<if test="clName != null and clName != ''">
	AND	(
		CONCAT(t2.CL_FAMILY_NAME,t2.CL_NAME) ILIKE CONCAT('%',#{clName},'%')
		OR CONCAT(t2.CL_FMY_EN,t2.CL_NAME_EN) ILIKE  CONCAT('%',#{clName},'%')
		OR t2.CL_MOBILE_PHONE ILIKE CONCAT('%',#{clName},'%')
		OR t2.CL_STAFF_NO ILIKE CONCAT('%',#{clName},'%')
	)
	</if>
	<if test="clId != null and clId != ''">
		and t1.cl_id = #{clId}
	</if>
  </select>
  
  
  <select id="selStaffOrgInfoByPostId" resultType="String"> 
		SELECT t1.cl_path FROM perms.v_post_path t1 WHERE t1.cl_post_id = #{postId}
  </select>
  
  
  
  <select id="pageList" resultMap="BaseResultMap" parameterType="com.sstc.hmis.permission.dbaccess.data.PermsTQuery"> 	
  SELECT 
  	T1.cl_id, T1.cl_account, T1.cl_email, T1.cl_password, T1.cl_salt, T1.cl_cash_account, T1.cl_cash_pwd, 
  	T1.cl_status, T1.cl_blockup, T1.cl_expired_date, T1.cl_staff_no, T2.cl_work_hotel_id as cl_default_hotel_id, T1.cl_family_name, 
  	T1.cl_name, T1.cl_fmy_en, T1.cl_name_en, T1.cl_sex, T1.cl_birth_date, T1.cl_contacts, T1.cl_mobile_phone, 
  	T1.cl_type, T1.cl_degrees_id, T1.cl_country_id, T1.cl_province_id, T1.cl_city_id, T1.cl_district, T1.cl_address, 
  	T1.cl_card_type_id, T1.cl_card_no, T1.cl_emergency_1, T1.cl_emergency_no_1, T1.cl_emergency_2, T1.cl_emergency_no_2, 
  	T1.cl_description, T1.cl_remark, T1.cl_login_limit, T1.cl_grp_id, T1.cl_hotel_id, T1.cl_create_time, 
  	T1.cl_create_by, T1.cl_modify_time, T1.cl_modify_by, T1.cl_degrees_code, T1.cl_avatar, T1.cl_country_code, 
  	T1.cl_province_code, T1.cl_city_code, T1.cl_card_type_code, T2.cl_dpt_id as cl_default_dpt_id, T2.cl_post_id as cl_default_post_id
   FROM perms.perms_t_staff T1 INNER JOIN 
	(SELECT t3.cl_staff_id,max(t3.cl_work_hotel_id) as cl_work_hotel_id,max(t3.cl_dpt_id) as cl_dpt_id ,max(t3.cl_post_id) as cl_post_id 
	FROM perms.perms_t_staff_hotel t3 WHERE T3.cl_status != ${@com.sstc.hmis.model.constants.Constants@STATUS_DEL} 
		<if test="clHotelId != null and clHotelId != ''">
			AND T3.cl_work_hotel_id = #{clHotelId}
		</if> 
		<if test="clDpartID != null and clDpartID != ''">
			AND T3.cl_dpt_id IN (
				WITH RECURSIVE cre AS (
					SELECT t5.cl_id,T5.CL_STATUS FROM perms.perms_t_department t5
					WHERE t5.cl_id = #{clDpartID} AND t5.CL_STATUS != ${@com.sstc.hmis.model.constants.Constants@STATUS_DEL}
						UNION ALL 
					SELECT t4.cl_id,T4.CL_STATUS FROM perms.perms_t_department t4 INNER JOIN cre t5 ON t5.cl_id = t4.cl_pid
				) SELECT CL_ID FROM cre WHERE cre.CL_STATUS != ${@com.sstc.hmis.model.constants.Constants@STATUS_DEL}
			)
		</if>
		<if test="clPostId != null and clPostId != ''">
			AND T3.cl_post_id = #{clPostId}
		</if> 
		group BY t3.cl_staff_id ) T2 ON T1.cl_id = T2.cl_staff_id
		WHERE T1.cl_status != ${@com.sstc.hmis.model.constants.Constants@STATUS_DEL} 
		AND t1.CL_BLOCKUP = ${@com.sstc.hmis.model.constants.Constants@BLOCKUP_NO}
		<if test="clStatus != null">
			And t1.CL_STATUS = #{clStatus}
		</if>
		<if test="clName != null and clName != ''">
		AND (
			CONCAT(t1.CL_FAMILY_NAME,t1.CL_NAME) ILIKE CONCAT('%',#{clName},'%')
			OR CONCAT(t1.CL_FMY_EN,t1.CL_NAME_EN)  ILIKE  CONCAT('%',#{clName},'%')
			OR t1.CL_MOBILE_PHONE ILIKE CONCAT('%',#{clName},'%')
			OR t1.CL_STAFF_NO ILIKE CONCAT('%',#{clName},'%')
		)
		</if>
		<if test="clTeamId != null and clTeamId != ''">
			AND T1.CL_ID IN (
				SELECT CL_STAFF_ID FROM perms.perms_t_staff_team WHERE CL_TEAM_ID = #{clTeamId} 
				AND CL_STATUS != ${@com.sstc.hmis.model.constants.Constants@STATUS_DEL}
			)
		</if>
  </select>
  
  
  <select id="countLoginTimes" parameterType="java.util.Map" resultType="java.lang.Integer">
  	SELECT COUNT(0) FROM PERMS.PERMS_T_LOGIN 
  	<where>
  		<if test="account != null and account != ''">
  			cl_account = #{account}
  		</if>
  	</where>
  </select>
  
  <insert id="insertLoginInfo" parameterType="java.util.Map">
  	insert into perms.perms_t_login (cl_account,cl_staff_id) values (#{account},#{staffId})
  </insert>
  
    <!-- 根据员工id查询组织 -->
  <select id="findOrganizationByStaffId" parameterType="java.lang.String" resultType="java.lang.String">
  	select path_name from perms.v_staff_org where cl_staff_id = #{staffId}
  </select>
  
    <select id="selStaffOrgInfos2" resultType="String" parameterType="com.sstc.hmis.permission.dbaccess.data.PermsTStaff"> 
		SELECT t1.path_name FROM perms.v_staff_org t1 
		<where>
			<if test="clId != null">
				t1.cl_staff_id = #{clId} 
			</if>
			<if test="clHotelId != null">
				and t1.cl_work_hotel_id = #{clHotelId}
			</if>
		</where>
  </select>
  
    <!-- 通过角色id查询员工信息（右侧） -->
	<select id="findStaffListByRoleId" parameterType="com.sstc.hmis.permission.dbaccess.data.PermsTRole" resultMap="BaseResultMap">
		SELECT
			DISTINCT t3.*
		FROM
			perms.perms_t_staff_hotel t1,
			perms.perms_t_staff_role t2,
			perms.perms_t_staff t3
		WHERE
			t1.cl_staff_id = t3.cl_id
		AND t2.cl_staff_id = t3.cl_id
		AND t1.cl_staff_id = t2.cl_staff_id
		<!-- AND t1.cl_hotel_id = t2.cl_hotel_id -->
		AND t2.cl_hotel_id = #{clHotelId}
		AND t1.cl_status = 0
		AND t2.cl_status = 0
		AND t3.cl_status = 0
		AND t2.cl_role_id = #{clId} 
	</select>	
  	
  	<!-- 通过角色id查询员工信息（左侧） -->
  <select id="findStaffListByRoleIdLeft" parameterType="com.sstc.hmis.permission.dbaccess.data.PermsTRole" resultMap="BaseResultMap">
	  	SELECT
			DISTINCT t3.*
		FROM
			perms.perms_t_staff_hotel t1,
			perms.perms_t_staff_role t2,
			perms.perms_t_staff t3
		WHERE
			t1.cl_staff_id = t3.cl_id
		AND t2.cl_staff_id = t3.cl_id
		AND t1.cl_staff_id = t2.cl_staff_id
		<!-- AND t1.cl_hotel_id = t2.cl_hotel_id -->
		AND t2.cl_hotel_id = #{clHotelId}
		AND t1.cl_status = 0
		AND t2.cl_status = 0
		and t3.cl_status = 0
		<if test="clId != null and clId != ''">
			AND t3.cl_id NOT IN (
				SELECT
					DISTINCT t3.cl_id
				FROM
					perms.perms_t_staff_hotel t1,
					perms.perms_t_staff_role t2,
					perms.perms_t_staff t3
				WHERE
					t1.cl_staff_id = t3.cl_id
				AND t2.cl_staff_id = t3.cl_id
				AND t1.cl_staff_id = t2.cl_staff_id
				<!-- AND t1.cl_hotel_id = t2.cl_hotel_id -->
				AND t2.cl_hotel_id = #{clHotelId}
				AND t1.cl_status = 0
				AND t2.cl_status = 0
				and t3.cl_status = 0
				AND t2.cl_role_id = #{clId}
			)
		</if>
		<if test="clCondition != null and clCondition != ''">
	 		and (t3.cl_name ilike '%${clCondition}%')
	 	</if>
	 	<if test="clStaffIdList != null">
			and t3.cl_id not in
			<foreach collection="clStaffIdList" item="staffId" index="index" open="(" separator="," close=")" >
		        	#{staffId}
		    </foreach>
  		</if>
  </select>
    
  <select id="getAllStaffList" resultMap="BaseResultMap">
  	select
  		*
  	from
  		perms.perms_t_staff
  	where cl_id in
  		<foreach collection="userIdList" item="staffId" index="index" open="(" separator="," close=")" >
		        	#{staffId}
		</foreach>
	order by cl_id asc
  </select>
  
  <select id="getUserIdByJobId" resultType="java.lang.String">
		select
			cl_staff_id
		from
			perms.perms_t_staff_hotel
		where
			cl_post_id = #{jobId, jdbcType=VARCHAR}
			and cl_status = '0'
	</select>
	
	<select id="getStaffById" resultType="com.sstc.hmis.permission.dbaccess.data.TLinkmanInfo">
		select
			COALESCE (cl_family_name, '') || COALESCE (cl_name, '') as clUserName,
			cl_id as clUserId,
			cl_sex as clSex,
			cl_mobile_phone as clPhone,
			cl_default_dpt_id as clDeptId,
			cl_default_hotel_id as clHotelId,
			cl_account as clAccount,
			cl_password as clPassword,
			cl_avatar as clAvatar
		from
			perms.perms_t_staff
		where
			cl_id = #{userId, jdbcType=VARCHAR}
	</select>
	
	<update id="updateStaffStatus">
		update
			perms.perms_t_staff
		set
			cl_status = 1
		where
			cl_id = #{id, jdbcType=VARCHAR}
	</update>
	
	<update id="updateStaffPsd">
		update
			perms.perms_t_staff
		set
			cl_password = #{psd, jdbcType=VARCHAR}
		where
			cl_id = #{userId, jdbcType=VARCHAR}
	</update>
	
	<select id="findStaffByPhoneAccount" resultMap="BaseResultMap">
		 select
    		<include refid="Base_Column_List" />
    	 from perms.perms_t_staff
    	 where
    	 	<if test="phone != null and !''.toString().equals(phone)">
    	 		cl_mobile_phone = #{phone, jdbcType=VARCHAR}
    	 	</if>
    	 	<if test="account != null and !''.toString().equals(account)">
    	 		cl_account = #{account, jdbcType=VARCHAR}
    	 	</if>
    	 	and cl_status <![CDATA[<>]]> #{status, jdbcType=SMALLINT}
    	 	and cl_status <![CDATA[<>]]> 3
  </select>
  
  <select id="listStaffById" resultMap="BaseResultMap">
	SELECT T2.*,t3.path_name as cl_org_info FROM perms.perms_t_staff_hotel T1 INNER JOIN perms.perms_t_staff T2 ON T1.cl_staff_id = T2.cl_id
	LEFT JOIN perms.v_staff_org t3 on T1.cl_staff_id = t3.cl_staff_id AND T1.cl_work_hotel_id = t3.cl_work_hotel_id
	WHERE
		T1.cl_staff_id IN 
		<foreach collection="list" item="id" open="(" close=")" separator=",">
			#{id}
		</foreach>
		<if test="hotelId != null and hotelId != ''">
			AND T1.cl_work_hotel_id = #{hotelId} 
		</if>
    <!-- AND t2.cl_status != ${@com.sstc.hmis.model.constants.Constants@STATUS_DEL} -->
  </select>
  
  <select id="getStaffInfoByAccnos" resultMap="BaseResultMap">
	SELECT CONCAT(T2.cl_family_name, T2.cl_name) cl_name,T2.cl_account FROM perms.perms_t_staff_hotel T1 INNER JOIN perms.perms_t_staff T2 ON T1.cl_staff_id = T2.cl_id
	WHERE T2.cl_account IN 
		<foreach collection="accnos" item="accno" open="(" close=")" separator=",">
			#{accno}
		</foreach>
		<if test="hotelId != null and hotelId != ''">
			AND T1.cl_work_hotel_id = #{hotelId} 
		</if>
	AND t2.cl_status != ${@com.sstc.hmis.model.constants.Constants@STATUS_DEL}
  </select>
  
  <select id="getStaffRoleId" resultType="java.lang.String">
  	select
  		cl_role_id
  	from
  		perms.perms_t_staff_role
  	where
  		cl_staff_id = #{staffId, jdbcType=VARCHAR}
  		and cl_hotel_id = #{hotelId, jdbcType=VARCHAR}
  		and cl_status = 0
  		and cl_blockup = 0
  </select>
  
  <select id="getRolePermissionList" resultType="java.lang.String">
  	select
  		DISTINCT b.cl_url
  	from
  		perms.perms_t_role_permission a
  	left join
  		perms.perms_t_permission b
  	on
  		a.cl_permission_id = b.cl_id
  	where
  		a.cl_role_id in
  		<foreach collection="roleIdList" item="roleId" open="(" close=")" separator=",">
			#{roleId}
		</foreach>
  		and a.cl_status = 0
  		and a.cl_blockup = 0
  		and b.cl_status = 0
  		and b.cl_blockup = 0
  		and strpos(b.cl_url, 'app_') >= 1
  </select>
  
  <select id="getGroupIdList" resultType="java.lang.String">
  	select
  		b.cl_easemob_group_id
  	from
  		perms.perms_t_staff_team a, perms.perms_t_work_team b
  	where
  		a.cl_team_id = b.cl_id
  		and a.cl_staff_id = #{id, jdbcType=VARCHAR}
  		and a.cl_status = 0
  		and a.cl_blockup = 0
  		and b.cl_status = 0
  		and b.cl_blockup = 0
  		and (b.cl_easemob_group_id <![CDATA[<>]]> '' or b.cl_easemob_group_id is not null)
  </select>
  
  <select id="getGroupIdListByHotelId" resultType="java.lang.String">
  	select
  		b.cl_easemob_group_id
  	from
  		perms.perms_t_staff_team a, perms.perms_t_work_team b
  	where
  		a.cl_team_id = b.cl_id
  		and a.cl_staff_id = #{id, jdbcType=VARCHAR}
  		and a.cl_status = 0
  		and a.cl_blockup = 0
  		and b.cl_status = 0
  		and b.cl_blockup = 0
  		and b.cl_hotel_id = #{hotelId, jdbcType=VARCHAR}
  		and (b.cl_easemob_group_id <![CDATA[<>]]> '' or b.cl_easemob_group_id is not null)
  </select>
  
  <select id="getStaffInfoByDeptId" resultType="com.sstc.hmis.permission.dbaccess.data.PermsTStaff">
  	select
  		a.cl_id as clId,
  		a.cl_family_name as clFamilyName,
  		a.cl_name as clName,
  		a.cl_account as clAccount
  	from
  		perms.perms_t_staff a,
  		perms.perms_t_dpt_staff b
  	where
  		a.cl_id = b.cl_staff_id
  		and b.cl_dpr_id = #{deptId, jdbcType=VARCHAR}
  		and a.cl_blockup = 0
  		and a.cl_status = 0
  </select>
  
  <select id="findByIdOrAccount" resultMap="BaseResultMap">
  	select
  		<include refid="Base_Column_List" />
  	from
  		perms.perms_t_staff
  	where
  		(cl_id = #{idOrAccount, jdbcType=VARCHAR}
  		or
  		cl_account = #{idOrAccount, jdbcType=VARCHAR})
  </select>
  <select id="pageListForNewApprover" resultMap="BaseResultMap" parameterType="com.sstc.hmis.permission.dbaccess.data.PermsTQuery"> 
    SELECT 
  	T1.cl_id, T1.cl_account, T1.cl_email, T1.cl_password, T1.cl_salt, T1.cl_cash_account, T1.cl_cash_pwd, 
  	T1.cl_status, T1.cl_blockup, T1.cl_expired_date, T1.cl_staff_no, T2.cl_work_hotel_id as cl_default_hotel_id, T1.cl_family_name, 
  	T1.cl_name, T1.cl_fmy_en, T1.cl_name_en, T1.cl_sex, T1.cl_birth_date, T1.cl_contacts, T1.cl_mobile_phone, 
  	T1.cl_type, T1.cl_degrees_id, T1.cl_country_id, T1.cl_province_id, T1.cl_city_id, T1.cl_district, T1.cl_address, 
  	T1.cl_card_type_id, T1.cl_card_no, T1.cl_emergency_1, T1.cl_emergency_no_1, T1.cl_emergency_2, T1.cl_emergency_no_2, 
  	T1.cl_description, T1.cl_remark, T1.cl_login_limit, T1.cl_grp_id, T1.cl_hotel_id, T1.cl_create_time, 
  	T1.cl_create_by, T1.cl_modify_time, T1.cl_modify_by, T1.cl_degrees_code, T1.cl_avatar, T1.cl_country_code, 
  	T1.cl_province_code, T1.cl_city_code, T1.cl_card_type_code, T2.cl_dpt_id as cl_default_dpt_id, T2.cl_post_id as cl_default_post_id
   FROM perms.perms_t_staff T1 INNER JOIN 
	(SELECT t3.cl_staff_id,max(t3.cl_work_hotel_id) as cl_work_hotel_id,max(t3.cl_dpt_id) as cl_dpt_id ,max(t3.cl_post_id) as cl_post_id 
	FROM perms.perms_t_staff_hotel t3 WHERE T3.cl_status != ${@com.sstc.hmis.model.constants.Constants@STATUS_DEL} 
		<if test="clHotelId != null and clHotelId != ''">
			AND T3.cl_work_hotel_id = #{clHotelId}
		</if> 
		<if test="clDpartID != null and clDpartID != ''">
			AND T3.cl_dpt_id IN (
				WITH RECURSIVE cre AS (
					SELECT t5.cl_id,T5.CL_STATUS FROM perms.perms_t_department t5
					WHERE t5.cl_id = #{clDpartID} AND t5.CL_STATUS != ${@com.sstc.hmis.model.constants.Constants@STATUS_DEL}
						UNION ALL 
					SELECT t4.cl_id,T4.CL_STATUS FROM perms.perms_t_department t4 INNER JOIN cre t5 ON t5.cl_id = t4.cl_pid
				) SELECT CL_ID FROM cre WHERE cre.CL_STATUS != ${@com.sstc.hmis.model.constants.Constants@STATUS_DEL}
			)
		</if>
		<if test="clPostId != null and clPostId != ''">
			AND T3.cl_post_id = #{clPostId}
		</if> 
		group BY t3.cl_staff_id ) T2 ON T1.cl_id = T2.cl_staff_id
		WHERE T1.cl_status != ${@com.sstc.hmis.model.constants.Constants@STATUS_DEL} 
		AND t1.CL_BLOCKUP = ${@com.sstc.hmis.model.constants.Constants@BLOCKUP_NO}
		<if test="clName != null and clName != ''">
		AND (
			CONCAT(t1.CL_FAMILY_NAME,t1.CL_NAME) ILIKE CONCAT('%',#{clName},'%')
			OR CONCAT(t1.CL_FMY_EN,t1.CL_NAME_EN)  ILIKE  CONCAT('%',#{clName},'%')
		)
		</if>
  </select>
</mapper>